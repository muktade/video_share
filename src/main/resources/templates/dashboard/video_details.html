<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/main.html}">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Video Details</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
          integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A=="
          crossorigin="anonymous" referrerpolicy="no-referrer"/>

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
</head>

<body>
<th:block layout:fragment="navbar">
    <div th:replace="fragments/dashboard_nav :: navbar"></div>
</th:block>

<div layout:fragment="content">
    <div class="row" style="margin-top: 60px">
        <div class="col-md-8 offset-md-2">
            <div class="video-post-wrapper">
                <div class="video-posts-video">

                    <div class="embed-responsive embed-responsive-16by9 ratio ratio-16x9">
                        <!--              :src="'https://img.youtube.com/vi/' + video.videoId + '/0.jpg'"-->
                        <iframe th:src="'https://www.youtube.com/embed/' +${video.videoId}"
                                class="embed-responsive-item"></iframe>
                    </div>
                </div>
                <div class="video-posts-data">
                    <div class="video-post-title">

                        <span class="video-icons"><i class="fa fa-info-circle"></i></span>
                        <div class="video-post-info">
                            <h4 th:text="${video.title}"><a href="#">Themeix Media</a></h4>

                            <div class="video-post-date">
                                <span><i class="fa fa-calendar"></i></span>
                                <p th:text="${video.uploadedDate}"></p>

                                <span class="video-posts-author">
                    <i class="fa-solid fa-user"></i>
                    <a href="javascript:void(0)">Uploaded by </a><span th:text="${video.uploadedBy.name}"></span>
                  </span>
                            </div>
                            <a href="#details" class="details details-btn" data-toggle="collapse">Show Details</a>
                        </div>

                    </div>
                    <div class="video-post-counter">
                        <div class="video-post-viewers">
                            <h3 th:text="${video.totalViews} +' '+'Views'"> Views</h3>
                        </div>
                        <div class="video-like">
                            <a th:href="@{'/video/videolike/'+${video.id}}">
                                <span><i class="far fa-thumbs-up"></i></span></a>
                            <p th:text="${video.likeBy.size}"></p>
                        </div>
                        <div class="video-dislike">
                            <a href="javascript:void(0)" th:video_id="*{video.id}" id="dislikeBtn">
                                <span><i class="far fa-thumbs-down"></i></span></a>
                            <p th:text="${video.dislikeBy.size}">9694</p>
                        </div>
                    </div>
                </div>


                <div class="video-post-details mt-3 collapse" id="details">
                    <ul class="nav nav-tabs" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active" data-toggle="tab" href="#like">Like List</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-toggle="tab" href="#dislike">Dislike List</a>
                        </li>
                    </ul>

                    <!-- Tab panes -->
                    <div class="tab-content">
                        <div id="like" class="container tab-pane active"><br>
                            <h3>User List of Like</h3>
                            <table class="table">
                                <thead>
                                <tr>
                                    <th>#</th>
                                    <th>Name</th>
                                    <th>Username</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr th:each="user, itr: ${video.likeBy}">
                                    <th scope="row" th:text="${itr.index+1}">1</th>
                                    <td th:text="${user.name}">Mark</td>
                                    <td th:text="${user.username}">@mdo</td>
                                </tr>

                                </tbody>
                            </table>
                        </div>
                        <div id="dislike" class="container tab-pane fade"><br>
                            <h3>User List of Dislike</h3>
                            <table class="table">
                                <thead>
                                <tr>
                                    <th>#</th>
                                    <th>Name</th>
                                    <th>Username</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr th:each="user, itr: ${video.dislikeBy}">
                                    <th scope="row" th:text="${itr.index+1}">1</th>
                                    <td th:text="${user.name}">Mark</td>
                                    <td th:text="${user.username}">@mdo</td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                        <div id="menu2" class="container tab-pane fade"><br>
                            <h3>Menu 2</h3>
                            <p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque
                                laudantium,
                                totam rem aperiam.</p>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        $(document).ready(function () {
            $(".details-btn").click(function () {
                var text = $(this).text()

                if (text == "Show Details") {
                    $(this).text("Hide Details")
                } else {
                    $(this).text("Show Details")
                }

            });


            //dislike    '/video/videodislike/' + videoId
        });
    </script>
</div>

<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<!--  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"-->
<!--    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"-->
<!--    crossorigin="anonymous"></script>-->
<!--  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"-->
<!--    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"-->
<!--    crossorigin="anonymous"></script>-->
<!--  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"-->
<!--    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"-->
<!--    crossorigin="anonymous"></script>-->

</body>

</html>